(this.webpackJsonpclients=this.webpackJsonpclients||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),o=(a(37),a(7)),s=a(11),m=a(6),i=a(10),u=a(13),b=a(28),d=a.n(b).a.create({baseURL:"https://apiclients.herokuapp.com/api"}),E=function(e){var t=Object(n.useState)({nombre:"",email:""}),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)({mostrar:!1,mensaje:"",claseCSS:""}),m=Object(o.a)(s,2),b=m[0],E=m[1],p=c.nombre,h=c.email;return r.a.createElement("div",{className:"row justify-content-center mt-5"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"text-center mb-4 font-weight-bold"},"Agregar un nuevo cliente"),b?r.a.createElement("div",{class:"alert ".concat(b.claseCSS),role:"alert"},b.mensaje):null,r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),""!==p.trim()&&""!==h.trim)try{d.post("/clientes",c),E({mostrar:!0,mensaje:"Se registr\xf3 cliente correctamente",claseCSS:"alert-success"}),e.history.push("/")}catch(a){console.log(a),E({mostrar:!0,mensaje:"Hubo un error",claseCSS:"alert-danger"})}else E({mostrar:!0,mensaje:"los campos son obligatorios",claseCSS:"alert-danger"})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre del cliente",name:"nombre",value:p,onChange:function(e){return l(Object(u.a)({},c,Object(i.a)({},e.target.name,e.target.value)))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",name:"email",value:h,onChange:function(e){return l(Object(u.a)({},c,Object(i.a)({},e.target.name,e.target.value)))}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100"},"Guardar"))))))},p=a(14),h=a.n(p),f=a(29),v=function(e){var t=e.cliente,a=t.nombre,n=t.email;return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("span",{className:"font-weight-bold"},n)))},g=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/clientes");case 2:t=e.sent,c(t.data.clientes);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"text-center my-5"},"Listado de clientes"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{className:"bg-primary table-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"email"))),r.a.createElement("tbody",null,0===a.length?"No hay clientes":a.map((function(e){return r.a.createElement(v,{key:e.id,cliente:e})}))))))};var N=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2);return t[0],t[1],r.a.createElement(s.a,{basename:"/"},r.a.createElement("nav",{class:"navbar navbar-dark bg-dark"},r.a.createElement("a",{class:"navbar-brand text-light"},r.a.createElement(s.b,{to:"/"},"Clientes")),r.a.createElement("a",{className:"nav-link"},r.a.createElement(s.b,{to:"/cliente",className:""},"Crear cliente"))),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/cliente",component:E}),r.a.createElement(m.a,{exact:!0,path:"/",component:g})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.7646a60f.chunk.js.map